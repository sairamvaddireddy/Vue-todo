{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-50 m-auto\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Tasks\", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"table table-striped\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"thead\", {\n  class: \"thead-dark\"\n}, [/*#__PURE__*/_createElementVNode(\"th\", null, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Actions\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_hoisted_2, _createElementVNode(\"button\", {\n    class: \"float-end btn btn-primary\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.add && $options.add(...args))\n  }, \"Add\")]), _createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tasks, task => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: task.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(task.id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(task.name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.editTask(task.id),\n      class: \"btn btn-warning btn-sm\"\n    }, \"Edit\", 8\n    /* PROPS */\n    , _hoisted_5), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteTask(task.id),\n      class: \"btn btn-danger btn-sm\"\n    }, \"Delete\", 8\n    /* PROPS */\n    , _hoisted_6)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;gCAEPC,oBAAc,IAAd,EAAc,IAAd,EAAI,OAAJ,EAAS;AAAA;AAAT;;;EAGKD,KAAK,EAAC;;;gCACXC,oBAIQ,OAJR,EAIQ;EAJDD,KAAK,EAAC;AAIL,CAJR,EAAyB,cACvBC,oBAAW,IAAX,EAAW,IAAX,EAAI,IAAJ,CADuB,eAEvBA,oBAAa,IAAb,EAAa,IAAb,EAAI,MAAJ,CAFuB,eAGvBA,oBAAgB,IAAhB,EAAgB,IAAhB,EAAI,SAAJ,CAHuB,CAAzB;;AAAA;;;;;uBANJC,oBAsBM,KAtBN,cAsBM,CArBJD,oBAGM,KAHN,EAGM,IAHN,EAGM,CAFJE,UAEI,EADJF,oBAAmE,QAAnE,EAAmE;IAA3DD,KAAK,EAAC,2BAAqD;IAAxBI,OAAK,yCAAEC,qCAAF;EAAmB,CAAnE,EAAuD,KAAvD,CACI,CAHN,CAqBI,EAjBJJ,oBAgBQ,OAhBR,cAgBQ,CAfNK,UAeM,EAVNL,oBASQ,OATR,EASQ,IATR,EASQ,oBARNC,oBAOKK,SAPL,EAOK,IAPL,EAOKC,YAPcC,WAOd,EAPMC,IAAa,IAAT;yBAAfR,oBAOK,IAPL,EAOK;MAPsBS,GAAG,EAAED,IAAI,CAACE;IAOhC,CAPL,GACEX,oBAAsB,IAAtB,EAAsB,IAAtB,EAAsBY,iBAAfH,IAAI,CAACE,EAAU,CAAtB,EAAc;IAAA;IAAd,GACAX,oBAAwB,IAAxB,EAAwB,IAAxB,EAAwBY,iBAAjBH,IAAI,CAACI,IAAY,CAAxB,EAAgB;IAAA;IAAhB,GACAb,oBAGK,IAHL,EAGK,IAHL,EAGK,CAFHA,oBAA+E,QAA/E,EAA+E;MAAtEG,OAAK,YAAEC,kBAASK,IAAI,CAACE,EAAd,CAA+D;MAA5CZ,KAAK,EAAC;IAAsC,CAA/E,EAAkE,MAAlE,EAAsE;IAAA;IAAtE,EAAsEe,UAAtE,CAEG,EADHd,oBAAkF,QAAlF,EAAkF;MAAzEG,OAAK,YAAEC,oBAAWK,IAAI,CAACE,EAAhB,CAAkE;MAA7CZ,KAAK,EAAC;IAAuC,CAAlF,EAAmE,QAAnE,EAAyE;IAAA;IAAzE,EAAyEgB,UAAzE,CACG,CAHL,EAHF;GAOK,CAPL;;EAAA,CAQM,EATR,CAUM,CAhBR,CAiBI,CAtBN","names":["class","_createElementVNode","_createElementBlock","_hoisted_2","onClick","$options","_hoisted_4","_Fragment","_renderList","$data","task","key","id","_toDisplayString","name","_hoisted_5","_hoisted_6"],"sourceRoot":"","sources":["/Users/sairamvaddireddy/Documents/Sites/vue-todo/src/views/Tasks/todo-index.vue"],"sourcesContent":["<template>\n  <div class=\"w-50 m-auto\">\n    <div>\n      <h1>Tasks</h1>\n      <button class=\"float-end btn btn-primary\" @click=\"add\">Add</button>\n    </div>\n    <table class=\"table table-striped\">\n      <thead class=\"thead-dark\">\n        <th>ID</th>\n        <th>Name</th>\n        <th>Actions</th>\n      </thead>\n      <tbody>\n        <tr v-for=\"task in tasks\" :key=\"task.id\">\n          <td>{{ task.id }}</td>\n          <td>{{ task.name }}</td>\n          <td>\n            <button @click=\"editTask(task.id)\" class=\"btn btn-warning btn-sm\">Edit</button>\n            <button @click=\"deleteTask(task.id)\" class=\"btn btn-danger btn-sm\">Delete</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n  created() {\n    if (!localStorage.getItem('token')) {\n      this.$router.push('/');\n    }\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    async fetchData() {\n      try {\n        const {data} = await axios.get(`${process.env.VUE_APP_BASE_API}/tasks`, { headers: {\"Authorization\" : `Bearer ${localStorage.getItem('token')}`} });\n        this.tasks = data.tasks.data;\n      } catch(e) {\n        if (e.response.status == 401) {\n          localStorage.removeItem('token');\n          this.$router.push('/');\n        }\n      }\n    },\n    async deleteTask(id) {\n      try {\n        const {data} = await axios.delete(`${process.env.VUE_APP_BASE_API}/tasks/${id}`, { headers: {\"Authorization\" : `Bearer ${localStorage.getItem('token')}`} });\n        if (data.status) {\n          this.$swal('success', data.message, 'success');\n          this.fetchData();\n        } else {\n          this.$swal('oops!', 'something went wrong! try again!!', 'error');\n        }\n      } catch(e) {\n\n        if (e.response.status == 401) {\n          localStorage.removeItem('token');\n          this.$router.push('/');\n        }\n      }\n    },\n    async editTask(id) {\n      this.$router.push({ name: 'editTask', params: {id: id}});\n    },\n    add() {\n      this.$router.push({name: 'addTask'});\n    }\n  },\n  data() {\n    return {\n      tasks: {}\n    }\n  },\n\n\n}\n</script>"]},"metadata":{},"sourceType":"module"}