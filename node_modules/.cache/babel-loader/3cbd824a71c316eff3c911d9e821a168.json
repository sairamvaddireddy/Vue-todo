{"ast":null,"code":"import axios from 'axios';\nexport default {\n  created() {\n    if (!localStorage.getItem('token') && this.$route.name != 'Home' && this.$route.name != 'Register') {\n      this.$router.push('/');\n    }\n  },\n\n  methods: {\n    async logout() {\n      try {\n        const {\n          data\n        } = await axios.post(`${process.env.VUE_APP_BASE_API}/logout`, {}, {\n          headers: {\n            \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        if (data?.status || false) {\n          localStorage.removeItem('token');\n          this.$swal('success', 'You are successfullt logged out!', 'success');\n          this.$router.push('/');\n        }\n      } catch (e) {\n        if (e.response.status == 401) {\n          localStorage.removeItem('token');\n          this.$router.push('/');\n        }\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AASA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;EACbC,OAAO,GAAG;IACR,IAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,IAAkC,KAAKC,MAAL,CAAYC,IAAZ,IAAoB,MAAtD,IAAgE,KAAKD,MAAL,CAAYC,IAAZ,IAAoB,UAAxF,EAAoG;MAClG,KAAKC,OAAL,CAAaC,IAAb,CAAkB,GAAlB;IACF;EACD,CALY;;EAMbC,OAAO,EAAE;IACP,MAAMC,MAAN,GAAe;MACX,IAAG;QACD,MAAM;UAACC;QAAD,IAAS,MAAMV,KAAK,CAACW,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,gBAAiB,SAA3C,EAAoD,EAApD,EAAwD;UAAEC,OAAO,EAAE;YAAC,iBAAmB,UAASb,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;UAA3D;QAAX,CAAxD,CAArB;;QACA,IAAIO,IAAI,EAAEM,MAAN,IAAgB,KAApB,EAA2B;UACzBd,YAAY,CAACe,UAAb,CAAwB,OAAxB;UACA,KAAKC,KAAL,CAAW,SAAX,EAAsB,kCAAtB,EAA0D,SAA1D;UACA,KAAKZ,OAAL,CAAaC,IAAb,CAAkB,GAAlB;QACF;MACF,CAPA,CAOE,OAAMY,CAAN,EAAS;QACT,IAAIA,CAAC,CAACC,QAAF,CAAWJ,MAAX,IAAqB,GAAzB,EAA8B;UAC9Bd,YAAY,CAACe,UAAb,CAAwB,OAAxB;UACA,KAAKX,OAAL,CAAaC,IAAb,CAAkB,GAAlB;QACF;MACA;IACJ;;EAfO;AANI,CAAf","names":["axios","created","localStorage","getItem","$route","name","$router","push","methods","logout","data","post","process","env","VUE_APP_BASE_API","headers","status","removeItem","$swal","e","response"],"sourceRoot":"","sources":["/Users/sairamvaddireddy/Documents/Sites/vue-todo/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"nav\">\n      <button v-if=\"$route.name !== 'Home'\" @click=\"logout\" class=\"float-end btn btn-danger\">Logout</button>\n    </div>\n    <router-view/>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n  created() {\n    if (!localStorage.getItem('token') && this.$route.name != 'Home' && this.$route.name != 'Register') {\n      this.$router.push('/');\n    }\n  },\n  methods: {\n    async logout() {\n        try{\n          const {data} = await axios.post(`${process.env.VUE_APP_BASE_API}/logout`,{}, { headers: {\"Authorization\" : `Bearer ${localStorage.getItem('token')}`} });\n          if (data?.status || false) {\n            localStorage.removeItem('token');\n            this.$swal('success', 'You are successfullt logged out!', 'success');\n            this.$router.push('/');\n          }\n        } catch(e) {\n          if (e.response.status == 401) {\n          localStorage.removeItem('token');\n          this.$router.push('/');\n        }\n        }\n    }\n  }  \n}\n</script>\n\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n}\n\n#nav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\n#nav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}