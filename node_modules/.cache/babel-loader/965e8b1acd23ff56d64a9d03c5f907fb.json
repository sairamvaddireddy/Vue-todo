{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Add Task\", -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = {\n  class: \"form-group\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Name\", -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  class: \"invalid-feedback\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary mt-3\"\n}, \"Create\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"form\", {\n    class: \"w-25 m-auto\",\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.create && $options.create(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: _normalizeClass([\"form-control\", {\n      'is-invalid': $data.errors.name\n    }]),\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.task.name = $event),\n    placeholder: \"Enter name\"\n  }, null, 2\n  /* CLASS */\n  ), [[_vModelText, $data.task.name]]), _createElementVNode(\"span\", _hoisted_4, _toDisplayString($data.errors.name), 1\n  /* TEXT */\n  )]), _hoisted_5], 32\n  /* HYDRATE_EVENTS */\n  ), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.$router.back()),\n    class: \"btn btn-secondary mt-3\"\n  }, \"Cancel\")]);\n}","map":{"version":3,"mappings":";;gCAEIA,oBAAiB,IAAjB,EAAiB,IAAjB,EAAI,UAAJ,EAAY;AAAA;AAAZ;;;EAESC,KAAK,EAAC;;;gCACPD,oBAA8B,OAA9B,EAA8B;EAAvBE,GAAG,EAAC;AAAmB,CAA9B,EAAkB,MAAlB,EAAsB;AAAA;AAAtB;;;EAEMD,KAAK,EAAC;;;gCAEhBD,oBAAkE,QAAlE,EAAkE;EAA1DG,IAAI,EAAC,QAAqD;EAA5CF,KAAK,EAAC;AAAsC,CAAlE,EAAmD,QAAnD,EAAyD;AAAA;AAAzD;;;uBARNG,oBAWM,KAXN,EAWM,IAXN,EAWM,CAVJC,UAUI,EATJL,oBAOO,MAPP,EAOO;IAPDC,KAAK,EAAC,aAOL;IAPoBK,QAAM,wDAAUC,2CAAV,EAAgB,WAAhB;EAO1B,CAPP,GACIP,oBAIM,KAJN,cAIM,CAHFQ,UAGE,kBAFFR,oBAAqI,OAArI,EAAqI;IAA9HG,IAAI,EAAC,MAAyH;IAAlHF,KAAK,mBAAC,cAAD,EAAe;MAAA,cAAgFQ,aAAOC;IAAvF,CAAf,EAA6G;IAA7FC,EAAE,EAAC,MAA0F;+DAA1EF,WAAKC,OAAIE,OAAiE;IAA/DC,WAAW,EAAC;EAAmD,CAArI;;EAAA,kBAA2DJ,WAAKC,OAE9D,EADFV,oBAAuD,MAAvD,cAAuDc,iBAArBL,aAAOC,IAAc,CAAvD,EAA6C;EAAA;EAA7C,CACE,CAJN,GAKAK,WANJ;;EAAA,CASI,EADJf,oBAA8E,QAA9E,EAA8E;IAArEgB,OAAK,sCAAEC,aAAQC,IAAR,EAAF,CAAgE;IAA9CjB,KAAK,EAAC;EAAwC,CAA9E,EAA+D,QAA/D,CACI,CAXN","names":["_createElementVNode","class","for","type","_createElementBlock","_hoisted_1","onSubmit","$options","_hoisted_3","$data","name","id","$event","placeholder","_toDisplayString","_hoisted_5","onClick","_ctx","back"],"sourceRoot":"","sources":["/Users/sairamvaddireddy/Documents/Sites/vue-todo/src/views/Tasks/todo-add.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Add Task</h1>\n    <form class=\"w-25 m-auto\" @submit.prevent=\"create\">\n        <div class=\"form-group\">\n            <label for=\"name\">Name</label>\n            <input type=\"text\" class=\"form-control\" id=\"name\" v-model=\"task.name\" placeholder=\"Enter name\" :class=\"{'is-invalid' : errors.name}\">\n            <span class=\"invalid-feedback\">{{ errors.name }}</span>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary mt-3\">Create</button>\n    </form>\n    <button @click=\"$router.back()\" class=\"btn btn-secondary mt-3\">Cancel</button>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n  created() {\n    if (!localStorage.getItem('token')) {\n      this.$router.push('/');\n    }\n  },\n  methods: {\n    async create() {\n        let headers = {\"Authorization\" : `Bearer ${localStorage.getItem('token')}`};\n      try {\n        const {data} = await axios.post(`${process.env.VUE_APP_BASE_API}/tasks/`, this.task, {headers: headers});\n        if (data?.status || false) {\n          this.$swal('success', data.message, 'success');\n          this.$router.push('/tasks');\n        } else {\n          this.$swal('oops!', 'something went wrong! try again!!', 'error');\n        }\n      } catch(e) {\n        if (e.response.status == 401) {\n          localStorage.removeItem('token');\n          this.$router.push('/');\n        } else if(e.response.status == 422) {\n            let data = e.response.data;\n            if (data.errors?.name || false) {\n                this.errors.name = data.errors.name[0];\n            } else {\n                this.errors.name = '';\n            }\n        }\n\n      }\n    },\n  },\n  data() {\n    return {\n      task: {\n          name: ''\n      },\n      errors: {\n          name: ''\n      }\n    }\n  },\n\n\n}\n</script>"]},"metadata":{},"sourceType":"module"}