{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Login\", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email address\", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"invalid-feedback\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Password\", -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = {\n  class: \"invalid-feedback\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary mt-3\"\n}, \"Submit\", -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"Click Here To Register\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    class: \"w-25 m-auto\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: _normalizeClass([\"form-control\", {\n      'is-invalid': $data.errors.email\n    }]),\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    placeholder: \"Enter email\"\n  }, null, 2\n  /* CLASS */\n  ), [[_vModelText, $data.email]]), _createElementVNode(\"span\", _hoisted_5, _toDisplayString($data.errors.email), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: _normalizeClass([\"form-control\", {\n      'is-invalid': $data.errors.password\n    }]),\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    placeholder: \"Password\"\n  }, null, 2\n  /* CLASS */\n  ), [[_vModelText, $data.password]]), _createElementVNode(\"span\", _hoisted_8, _toDisplayString($data.errors.password), 1\n  /* TEXT */\n  )]), _hoisted_9], 32\n  /* HYDRATE_EVENTS */\n  ), _createVNode(_component_router_link, {\n    to: {\n      name: 'Register'\n    },\n    class: \"mt-6\"\n  }, {\n    default: _withCtx(() => [_hoisted_10]),\n    _: 1\n    /* STABLE */\n\n  })]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;gCACTC,oBAAc,IAAd,EAAc,IAAd,EAAI,OAAJ,EAAS;AAAA;AAAT;;;EAESD,KAAK,EAAC;;;gCACTC,oBAAwC,OAAxC,EAAwC;EAAjCC,GAAG,EAAC;AAA6B,CAAxC,EAAmB,eAAnB,EAAgC;AAAA;AAAhC;;;EAEMF,KAAK,EAAC;;;EAETA,KAAK,EAAC;;;gCACTC,oBAAsC,OAAtC,EAAsC;EAA/BC,GAAG,EAAC;AAA2B,CAAtC,EAAsB,UAAtB,EAA8B;AAAA;AAA9B;;;EAEMF,KAAK,EAAC;;;gCAEdC,oBAAkE,QAAlE,EAAkE;EAA1DE,IAAI,EAAC,QAAqD;EAA5CH,KAAK,EAAC;AAAsC,CAAlE,EAAmD,QAAnD,EAAyD;AAAA;AAAzD;;kDAEmD;;;;;uBAfzDI,oBAgBM,KAhBN,cAgBM,CAfJC,UAeI,EAdFJ,oBAYO,MAZP,EAYO;IAZDD,KAAK,EAAC,aAYL;IAZoBM,QAAM,wDAAUC,yCAAV,EAAe,WAAf;EAY1B,CAZP,GACEN,oBAIM,KAJN,cAIM,CAHJO,UAGI,kBAFJP,oBAAqI,OAArI,EAAqI;IAA9HE,IAAI,EAAC,OAAyH;IAAjHH,KAAK,mBAAC,cAAD,EAAe;MAAA,cAA8ES,aAAOC;IAArF,CAAf,EAA4G;IAA5FC,EAAE,EAAC,OAAyF;+DAAxEF,cAAKG,OAAmE;IAAjEC,WAAW,EAAC;EAAqD,CAArI;;EAAA,kBAA6DJ,cAEzD,EADJR,oBAAwD,MAAxD,cAAwDa,iBAAtBL,aAAOC,KAAe,CAAxD,EAA8C;EAAA;EAA9C,CACI,CAJN,GAKAT,oBAIM,KAJN,cAIM,CAHJc,UAGI,kBAFJd,oBAA8I,OAA9I,EAA8I;IAAvIE,IAAI,EAAC,UAAkI;IAAvHH,KAAK,mBAAC,cAAD,EAAe;MAAA,cAAiFS,aAAOO;IAAxF,CAAf,EAAkH;IAAlGL,EAAE,EAAC,UAA+F;+DAA3EF,iBAAQG,OAAmE;IAAjEC,WAAW,EAAC;EAAqD,CAA9I;;EAAA,kBAAmEJ,iBAE/D,EADJR,oBAA2D,MAA3D,cAA2Da,iBAAzBL,aAAOO,QAAkB,CAA3D,EAAiD;EAAA;EAAjD,CACI,CAJN,GAKAC,WAXF;;EAAA,CAcE,EADFC,aAAyFC,sBAAzF,EAAyF;IAA3EC,EAAE,EAAE;MAAAC;IAAA,CAAuE;IAAjDrB,KAAK,EAAC;EAA2C,CAAzF;sBAAqD,MAAsB;;;;GAA3E,CACE,CAhBN","names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_2","onSubmit","$options","_hoisted_4","$data","email","id","$event","placeholder","_toDisplayString","_hoisted_7","password","_hoisted_9","_createVNode","_component_router_link","to","name"],"sourceRoot":"","sources":["/Users/sairamvaddireddy/Documents/Sites/vue-todo/src/views/todo-home.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <h1>Login</h1>\n      <form class=\"w-25 m-auto\" @submit.prevent=\"login\">\n        <div class=\"form-group\">\n          <label for=\"email\">Email address</label>\n          <input type=\"email\" class=\"form-control\" id=\"email\" v-model=\"email\" placeholder=\"Enter email\" :class=\"{'is-invalid' : errors.email}\">\n          <span class=\"invalid-feedback\">{{ errors.email }}</span>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\">Password</label>\n          <input type=\"password\" class=\"form-control\" id=\"password\" v-model=\"password\" placeholder=\"Password\" :class=\"{'is-invalid' : errors.password}\">\n          <span class=\"invalid-feedback\">{{ errors.password }}</span>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary mt-3\">Submit</button>\n      </form>\n      <router-link :to=\"{ name: 'Register' }\" class=\"mt-6\">Click Here To Register</router-link>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'TodoHome',\n  created() {\n    if (localStorage.getItem('token')) {\n      this.$router.push('/tasks');\n    }\n  },\n  data() {\n    return {\n      'email': '',\n      'password': '',\n      'errors': {\n        'email': '',\n        'password' : ''\n      }\n    }\n  },\n  methods: {\n    async login() {\n      this.validate();\n      try {\n        const {data} = await axios.post(`${process.env.VUE_APP_BASE_API}/login`, {'email': this.email, 'password': this.password});\n        if (data.status) {\n          localStorage.setItem('token', data.token);\n          this.$router.push('/tasks');\n        }\n        if (data.errors?.email || false) {\n          this.errors.email = data.errors.email[0];\n        }\n        if (data.errors?.password || false) {\n          this.errors.password = data.errors.password[0];\n        }\n      } catch(e) {\n        console.log(e);\n      }\n    },\n    validate() {\n      if (!this.email) {\n        this.errors.email = 'Email is required';\n      } else {\n        this.errors.email = '';\n      }\n      if (!this.password) {\n        this.errors.password = 'Password is required';\n      } else {\n        this.errors.password = '';\n      }\n      return;\n    }\n  }\n}\n\n</script>\n"]},"metadata":{},"sourceType":"module"}