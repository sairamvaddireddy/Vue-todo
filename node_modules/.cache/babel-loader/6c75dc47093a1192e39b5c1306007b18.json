{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = {\n  id: \"nav\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_ctx.$route.name !== 'Home' ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.logout && $options.logout(...args)),\n    class: \"float-end btn btn-danger\"\n  }, \"Logout\")) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_router_view)]);\n}","map":{"version":3,"mappings":";;EACOA,EAAE,EAAC;;;EACDA,EAAE,EAAC;;;;;uBADVC,oBAKM,KALN,cAKM,CAJJC,oBAEM,KAFN,cAEM,CADUC,YAAOC,IAAP,KAAW,wBAAzBH,oBAAsG,QAAtG,EAAsG;UAAA;IAA/DI,OAAK,yCAAEC,2CAAF,CAA0D;IAAhDC,KAAK,EAAC;EAA0C,CAAtG,EAAuF,QAAvF,sCACI,CAFN,CAII,EADJC,aAAcC,sBAAd,CACI,CALN","names":["id","_createElementBlock","_createElementVNode","_ctx","name","onClick","$options","class","_createVNode","_component_router_view"],"sourceRoot":"","sources":["/Users/sairamvaddireddy/Documents/Sites/vue-todo/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"nav\">\n      <button v-if=\"$route.name !== 'Home'\" @click=\"logout\" class=\"float-end btn btn-danger\">Logout</button>\n    </div>\n    <router-view/>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n  created() {\n    if (!localStorage.getItem('token') && this.$route.name != 'Home' && this.$route.name != 'Register') {\n      this.$router.push('/');\n    }\n  },\n  methods: {\n    async logout() {\n        try{\n          const {data} = await axios.post(`${process.env.VUE_APP_BASE_API}/logout`,{}, { headers: {\"Authorization\" : `Bearer ${localStorage.getItem('token')}`} });\n          if (data?.status || false) {\n            localStorage.removeItem('token');\n            this.$swal('success', 'You are successfullt logged out!', 'success');\n            this.$router.push('/');\n          }\n        } catch(e) {\n          if (e.response.status == 401) {\n          localStorage.removeItem('token');\n          this.$router.push('/');\n        }\n        }\n    }\n  }  \n}\n</script>\n\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n}\n\n#nav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\n#nav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}